{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/anthony/PersonalProjects/sympto-street/client/src/components/SearchResults.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport SingleResult from './SingleResult';\nexport default function SearchResults(props) {\n  _s();\n\n  const {\n    searchResults,\n    hasResults,\n    priceSort,\n    setSearchInput\n  } = props;\n  const [resultGrouping, setResultGrouping] = useState({\n    groups: 1,\n    currentGroup: 1\n  });\n  const [resultsOutput, setResultsOutput] = useState([]);\n\n  const handlePriceSort = e => {\n    const userSelection = e.target.value;\n    setSearchInput(prev => {\n      return { ...prev,\n        priceSort: userSelection\n      };\n    });\n  };\n\n  const resultGroup = (currentGroup, groups) => {\n    const resultLowerRange = currentGroup * 10 - 9;\n    const resultUpperRange = currentGroup * 10;\n\n    if (currentGroup < groups) {\n      return [resultLowerRange, resultUpperRange];\n    } else {\n      return [resultLowerRange, searchResults.length];\n    }\n  }; // Determine number of result groups\n\n\n  useEffect(() => {\n    const numberOfGroupss = Math.round(searchResults.length / 10);\n    const groupRange = resultGroup(1, numberOfGroupss);\n    setResultGrouping({\n      groups: numberOfGroupss,\n      currentGroup: 1,\n      lowerRange: groupRange[0],\n      upperRange: groupRange[1]\n    });\n    generateResultsWithinGroup();\n  }, [searchResults]);\n\n  const generateResultsWithinGroup = () => {// let output = []\n    // for (let i = resultGroup()[0] - 1; i < resultGroup()[1]; i++) {\n    //     output.push(\n    //         <SingleResult result={searchResults[i]} index={i} key={searchResults[i]._id}/>\n    //     )\n    // }\n    // // return output\n    // setResultsOutput(output)\n  };\n\n  const scrollToTop = () => {\n    document.getElementById('logoBar').scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  const handleNavigationClick = e => {// scrollToTop()\n    // const previousPage = e.target.classList.contains('previousPage')\n    // const previousOrNext = previousPage ? 1:-1\n    // const newResultGroup = resultGroup()\n    // setResultGrouping(prev => {\n    //     return {\n    //         ...prev,\n    //         currentGroup: prev.currentGroup - previousOrNext,\n    //         lowerRange: newResultGroup[0],\n    //         upperRange: newResultGroup[1]\n    //     }\n    // })\n    // generateResultsWithinGroup()\n  };\n\n  const arrowsNavigation = resultGrouping.groups > 1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n    id: \"resultPageNavIcons\",\n    children: [resultGrouping.currentGroup === 1 ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn previousPage btn-primary m-2 shadow-none\",\n      onClick: handleNavigationClick,\n      children: \"Prev Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 55\n    }, this), resultGrouping.currentGroup === resultGrouping.groups ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn nextPage btn-primary m-2 shadow-none\",\n      onClick: handleNavigationClick,\n      children: \"Next Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 75\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      id: \"searchResultsTitle\",\n      children: [!hasResults ? \"No results, try broadening your search\" : null, searchResults.length === 0 ? null : \"Showing results \" + resultGroup()[0] + \"-\" + resultGroup()[1] + \" of \" + searchResults.length, searchResults.length > 1 ? /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"priceSort form-select shadow-none\",\n        value: priceSort,\n        onChange: handlePriceSort,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"ascending\",\n          children: \"Price: Low to High\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"descending\",\n          children: \"Price: High to Low\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), arrowsNavigation, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-wrap\",\n      children: resultsOutput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), arrowsNavigation]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchResults, \"ahTXuvynQ6SPbaJKcQsqcN/qKYo=\");\n\n_c = SearchResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"sources":["/home/anthony/PersonalProjects/sympto-street/client/src/components/SearchResults.js"],"names":["React","useState","useEffect","SingleResult","SearchResults","props","searchResults","hasResults","priceSort","setSearchInput","resultGrouping","setResultGrouping","groups","currentGroup","resultsOutput","setResultsOutput","handlePriceSort","e","userSelection","target","value","prev","resultGroup","resultLowerRange","resultUpperRange","length","numberOfGroupss","Math","round","groupRange","lowerRange","upperRange","generateResultsWithinGroup","scrollToTop","document","getElementById","scrollIntoView","behavior","handleNavigationClick","arrowsNavigation"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAEzC,QAAM;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA,UAAjB;AAA6BC,IAAAA,SAA7B;AAAwCC,IAAAA;AAAxC,MAA2DJ,KAAjE;AAEA,QAAM,CAAEK,cAAF,EAAkBC,iBAAlB,IAAwCV,QAAQ,CAAC;AAACW,IAAAA,MAAM,EAAE,CAAT;AAAYC,IAAAA,YAAY,EAAE;AAA1B,GAAD,CAAtD;AACA,QAAM,CAAEC,aAAF,EAAiBC,gBAAjB,IAAsCd,QAAQ,CAAC,EAAD,CAApD;;AAEA,QAAMe,eAAe,GAAIC,CAAD,IAAO;AAC3B,UAAMC,aAAa,GAAGD,CAAC,CAACE,MAAF,CAASC,KAA/B;AACAX,IAAAA,cAAc,CAACY,IAAI,IAAI;AACnB,aAAO,EACH,GAAGA,IADA;AAEHb,QAAAA,SAAS,EAAEU;AAFR,OAAP;AAIH,KALa,CAAd;AAMH,GARD;;AAUA,QAAMI,WAAW,GAAG,CAACT,YAAD,EAAeD,MAAf,KAA0B;AAC1C,UAAMW,gBAAgB,GAAGV,YAAY,GAAC,EAAb,GAAgB,CAAzC;AACA,UAAMW,gBAAgB,GAAGX,YAAY,GAAC,EAAtC;;AAEA,QAAIA,YAAY,GAAGD,MAAnB,EAA2B;AACvB,aAAO,CAACW,gBAAD,EAAmBC,gBAAnB,CAAP;AACH,KAFD,MAEO;AACH,aAAO,CAACD,gBAAD,EAAmBjB,aAAa,CAACmB,MAAjC,CAAP;AACH;AACJ,GATD,CAjByC,CA6BzC;;;AACAvB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMwB,eAAe,GAAGC,IAAI,CAACC,KAAL,CAAWtB,aAAa,CAACmB,MAAd,GAAqB,EAAhC,CAAxB;AACA,UAAMI,UAAU,GAAGP,WAAW,CAAC,CAAD,EAAII,eAAJ,CAA9B;AACAf,IAAAA,iBAAiB,CAAC;AAACC,MAAAA,MAAM,EAAEc,eAAT;AAA0Bb,MAAAA,YAAY,EAAE,CAAxC;AAA2CiB,MAAAA,UAAU,EAAED,UAAU,CAAC,CAAD,CAAjE;AAAsEE,MAAAA,UAAU,EAAEF,UAAU,CAAC,CAAD;AAA5F,KAAD,CAAjB;AAEAG,IAAAA,0BAA0B;AAC7B,GANQ,EAMN,CAAC1B,aAAD,CANM,CAAT;;AASA,QAAM0B,0BAA0B,GAAG,MAAM,CACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GATD;;AAWA,QAAMC,WAAW,GAAG,MAAM;AACtBC,IAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,cAAnC,CAAkD;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAlD;AACH,GAFD;;AAIA,QAAMC,qBAAqB,GAAIrB,CAAD,IAAO,CACjC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GAfD;;AAiBA,QAAMsB,gBAAgB,GAClB7B,cAAc,CAACE,MAAf,GAAwB,CAAxB,gBACA;AAAM,IAAA,EAAE,EAAC,oBAAT;AAAA,eACKF,cAAc,CAACG,YAAf,KAAgC,CAAhC,GAAoC,IAApC,gBAAyC;AAAQ,MAAA,SAAS,EAAC,8CAAlB;AAAiE,MAAA,OAAO,EAAEyB,qBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAD9C,EAEK5B,cAAc,CAACG,YAAf,KAAgCH,cAAc,CAACE,MAA/C,GAAwD,IAAxD,gBAA6D;AAAQ,MAAA,SAAS,EAAC,0CAAlB;AAA6D,MAAA,OAAO,EAAE0B,qBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFlE;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,GAKC,IANL;AASA,sBACI;AAAA,4BACI;AAAI,MAAA,EAAE,EAAC,oBAAP;AAAA,iBACK,CAAC/B,UAAD,GAAc,wCAAd,GAAwD,IAD7D,EAEKD,aAAa,CAACmB,MAAd,KAAyB,CAAzB,GACG,IADH,GAEG,qBAAqBH,WAAW,GAAG,CAAH,CAAhC,GAAwC,GAAxC,GAA8CA,WAAW,GAAG,CAAH,CAAzD,GAAiE,MAAjE,GAA0EhB,aAAa,CAACmB,MAJhG,EAMKnB,aAAa,CAACmB,MAAd,GAAuB,CAAvB,gBACG;AAAQ,QAAA,SAAS,EAAC,mCAAlB;AAAsD,QAAA,KAAK,EAAEjB,SAA7D;AAAwE,QAAA,QAAQ,EAAEQ,eAAlF;AAAA,gCACI;AAAQ,UAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,GAIc,IAVnB;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAeKuB,gBAfL,eAiBI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,gBACKzB;AADL;AAAA;AAAA;AAAA;AAAA,YAjBJ,EAqBKyB,gBArBL;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH;;GA1GuBnC,a;;KAAAA,a","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport SingleResult from './SingleResult'\n\nexport default function SearchResults(props) {\n\n    const { searchResults, hasResults, priceSort, setSearchInput } = props\n\n    const [ resultGrouping, setResultGrouping ] = useState({groups: 1, currentGroup: 1})\n    const [ resultsOutput, setResultsOutput ] = useState([])\n    \n    const handlePriceSort = (e) => {\n        const userSelection = e.target.value\n        setSearchInput(prev => {\n            return {\n                ...prev,\n                priceSort: userSelection\n            }\n        })\n    }\n    \n    const resultGroup = (currentGroup, groups) => {\n        const resultLowerRange = currentGroup*10-9\n        const resultUpperRange = currentGroup*10\n        \n        if (currentGroup < groups) {\n            return [resultLowerRange, resultUpperRange]\n        } else {\n            return [resultLowerRange, searchResults.length]\n        }\n    }\n   \n\n    // Determine number of result groups\n    useEffect(() => {\n        const numberOfGroupss = Math.round(searchResults.length/10)\n        const groupRange = resultGroup(1, numberOfGroupss)\n        setResultGrouping({groups: numberOfGroupss, currentGroup: 1, lowerRange: groupRange[0], upperRange: groupRange[1]})\n\n        generateResultsWithinGroup();\n    }, [searchResults])\n\n\n    const generateResultsWithinGroup = () => {\n        // let output = []\n        // for (let i = resultGroup()[0] - 1; i < resultGroup()[1]; i++) {\n        //     output.push(\n        //         <SingleResult result={searchResults[i]} index={i} key={searchResults[i]._id}/>\n        //     )\n        // }\n        // // return output\n        // setResultsOutput(output)\n    }\n\n    const scrollToTop = () => {\n        document.getElementById('logoBar').scrollIntoView({behavior: 'smooth'})\n    }\n\n    const handleNavigationClick = (e) => {\n        // scrollToTop()\n        \n        // const previousPage = e.target.classList.contains('previousPage')\n        // const previousOrNext = previousPage ? 1:-1\n        // const newResultGroup = resultGroup()\n        // setResultGrouping(prev => {\n        //     return {\n        //         ...prev,\n        //         currentGroup: prev.currentGroup - previousOrNext,\n        //         lowerRange: newResultGroup[0],\n        //         upperRange: newResultGroup[1]\n        //     }\n        // })\n        // generateResultsWithinGroup()\n    }\n\n    const arrowsNavigation = (\n        resultGrouping.groups > 1 ? \n        <span id=\"resultPageNavIcons\">\n            {resultGrouping.currentGroup === 1 ? null:<button className=\"btn previousPage btn-primary m-2 shadow-none\" onClick={handleNavigationClick}>Prev Page</button>}\n            {resultGrouping.currentGroup === resultGrouping.groups ? null:<button className=\"btn nextPage btn-primary m-2 shadow-none\" onClick={handleNavigationClick}>Next Page</button>}\n        </span>\n        :null\n    )\n\n    return (\n        <div>\n            <h3 id=\"searchResultsTitle\">\n                {!hasResults ? \"No results, try broadening your search\": null}\n                {searchResults.length === 0 ? \n                    null:\n                    \"Showing results \" + resultGroup()[0] + \"-\" + resultGroup()[1] + \" of \" + searchResults.length\n                }\n                {searchResults.length > 1 ? \n                    <select className=\"priceSort form-select shadow-none\" value={priceSort} onChange={handlePriceSort}>\n                        <option value=\"ascending\">Price: Low to High</option>\n                        <option value=\"descending\">Price: High to Low</option>\n                    </select>: null\n                }\n            </h3>\n\n            {arrowsNavigation}\n\n            <div className=\"d-flex flex-wrap\">\n                {resultsOutput}\n            </div>\n            \n            {arrowsNavigation}\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}